{"remainingRequest":"C:\\Users\\terme\\Documents\\GitHub\\readit-example\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\terme\\Documents\\GitHub\\readit-example\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\terme\\Documents\\GitHub\\readit-example\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\terme\\Documents\\GitHub\\readit-example\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\terme\\Documents\\GitHub\\readit-example\\src\\components\\UpdateTopic.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\terme\\Documents\\GitHub\\readit-example\\src\\components\\UpdateTopic.vue","mtime":1752853256142},{"path":"C:\\Users\\terme\\Documents\\GitHub\\readit-example\\babel.config.js","mtime":1752807206615},{"path":"C:\\Users\\terme\\Documents\\GitHub\\readit-example\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1752810157864},{"path":"C:\\Users\\terme\\Documents\\GitHub\\readit-example\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1752810157864},{"path":"C:\\Users\\terme\\Documents\\GitHub\\readit-example\\node_modules\\babel-loader\\lib\\index.js","mtime":1752810158351},{"path":"C:\\Users\\terme\\Documents\\GitHub\\readit-example\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1752810157864},{"path":"C:\\Users\\terme\\Documents\\GitHub\\readit-example\\node_modules\\vue-loader\\lib\\index.js","mtime":1752810158306}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLml0ZXJhdG9yLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuaXRlcmF0b3IuZmluZC5qcyI7Ci8vIFJFTU9WRSBUSElTIElNUE9SVCAtIE5vIGxvbmdlciB1c2luZyBleHRlcm5hbCBzZXJ2aWNlCi8vIGltcG9ydCB0b3BpY1NlcnZpY2UgZnJvbSAiQC9zZXJ2aWNlcy9Ub3BpY1NlcnZpY2UuanMiOwoKaW1wb3J0IHsgbWFwU3RhdGUsIG1hcEFjdGlvbnMgfSBmcm9tICd2dWV4JzsgLy8gSW1wb3J0IG1hcFN0YXRlIGFuZCBtYXBBY3Rpb25zCgpleHBvcnQgZGVmYXVsdCB7CiAgLy8gWW91ciBuYW1lIGhlcmUgaXMgJ2NyZWF0ZS10b3BpYycsIGJ1dCBpdCdzIGhhbmRsaW5nIHVwZGF0ZXMuCiAgLy8gQ29uc2lkZXIgcmVuYW1pbmcgdGhlIGNvbXBvbmVudCBmaWxlIGFuZCB0aGlzIHByb3BlcnR5IHRvICdlZGl0LXRvcGljJwogIC8vIG9yICd1cGRhdGUtdG9waWMnIGZvciBjbGFyaXR5IGlmIGl0J3Mgc3RyaWN0bHkgZm9yIGVkaXRpbmcuCiAgbmFtZTogImVkaXQtdG9waWMiLAogIC8vIFJlbmFtZWQgZm9yIGNsYXJpdHkgYmFzZWQgb24gZnVuY3Rpb25hbGl0eQogIHByb3BzOiB7CiAgICAvLyByb3V0ZXIvaW5kZXguanMgY3VycmVudGx5IHVzZXMgJzppZCcgZm9yIEVkaXRUb3BpYy4KICAgIC8vIEVuc3VyZSB0aGlzIHByb3AgbmFtZSBtYXRjaGVzIHRoZSByb3V0ZSBwYXJhbSBuYW1lLgogICAgaWQ6IFtOdW1iZXIsIFN0cmluZ10gLy8gQ2hhbmdlZCBmcm9tICd0b3BpY0lEJyB0byAnaWQnIHRvIG1hdGNoIHJvdXRlciBwYXJhbQogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHRpdGxlOiAiIgogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICAuLi5tYXBTdGF0ZShbJ3RvcGljcyddKSAvLyBXZSBuZWVkIGFjY2VzcyB0byB0aGUgdG9waWNzIGFycmF5IHRvIGZpbmQgdGhlIHRvcGljIGJ5IElECiAgfSwKICBtZXRob2RzOiB7CiAgICAuLi5tYXBBY3Rpb25zKFsndXBkYXRlVGhlVG9waWMnXSksCiAgICAvLyBNYXAgdGhlIG5ldyB1cGRhdGVUaGVUb3BpYyBhY3Rpb24KCiAgICB1cGRhdGVUb3BpYygpIHsKICAgICAgY29uc3QgdXBkYXRlZFRvcGljID0gewogICAgICAgIGlkOiB0aGlzLmlkLAogICAgICAgIHRpdGxlOiB0aGlzLnRpdGxlCiAgICAgIH07IC8vIFVzZSB0aGlzLmlkIChmcm9tIHByb3ApCgogICAgICAvLyBEaXNwYXRjaCB0aGUgVnVleCBhY3Rpb24gdG8gdXBkYXRlIHRoZSB0b3BpYyBpbiB0aGUgc3RvcmUKICAgICAgdGhpcy51cGRhdGVUaGVUb3BpYyh1cGRhdGVkVG9waWMpLnRoZW4oKCkgPT4gewogICAgICAgIC8vIEFmdGVyIHN1Y2Nlc3NmdWwgdXBkYXRlIGluIHRoZSBzdG9yZSwgcmVkaXJlY3QKICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICBuYW1lOiAnTWVzc2FnZXMnLAogICAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICAgIHRvcGljSWQ6IHRoaXMuaWQKICAgICAgICAgIH0KICAgICAgICB9KTsgLy8gUmVkaXJlY3QgdG8gdG9waWMgZGV0YWlscwogICAgICAgIC8vIE9yIHJlZGlyZWN0IHRvIEhvbWU6IHRoaXMuJHJvdXRlci5wdXNoKCIvIik7CiAgICAgIH0pLmNhdGNoKGVycm9yID0+IHsKICAgICAgICBjb25zb2xlLmVycm9yKCJFcnJvciB1cGRhdGluZyB0b3BpYzoiLCBlcnJvcik7CiAgICAgICAgLy8gSGFuZGxlIGVycm9yLCBlLmcuLCBzaG93IGEgdXNlciBtZXNzYWdlCiAgICAgIH0pOwogICAgfSwKICAgIGNhbmNlbCgpIHsKICAgICAgLy8gR28gYmFjayB0byB0aGUgcHJldmlvdXMgcGFnZSBvciBob21lCiAgICAgIHRoaXMuJHJvdXRlci5iYWNrKCk7CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgLy8gV2F0Y2ggdGhlICdpZCcgcHJvcCB0byBsb2FkIHRoZSB0b3BpYyB3aGVuIGl0IGNoYW5nZXMgb3Igb24gaW5pdGlhbCBjcmVhdGlvbgogICAgaWQ6IHsKICAgICAgaW1tZWRpYXRlOiB0cnVlLAogICAgICAvLyBUaGlzIG1ha2VzIHRoZSB3YXRjaGVyIHJ1biBpbW1lZGlhdGVseSB3aGVuIHRoZSBjb21wb25lbnQgaXMgY3JlYXRlZAogICAgICBoYW5kbGVyKG5ld0lkKSB7CiAgICAgICAgaWYgKG5ld0lkICYmIHRoaXMudG9waWNzLmxlbmd0aCA+IDApIHsKICAgICAgICAgIC8vIEVuc3VyZSB0b3BpY3MgYXJlIGxvYWRlZCBiZWZvcmUgc2VhcmNoaW5nCiAgICAgICAgICBjb25zdCB0b3BpY1RvRWRpdCA9IHRoaXMudG9waWNzLmZpbmQodCA9PiB0LmlkID09IG5ld0lkKTsgLy8gRmluZCB0aGUgdG9waWMgYnkgaXRzIElECgogICAgICAgICAgaWYgKHRvcGljVG9FZGl0KSB7CiAgICAgICAgICAgIHRoaXMudGl0bGUgPSB0b3BpY1RvRWRpdC50aXRsZTsgLy8gUG9wdWxhdGUgdGhlIGZvcm0gZmllbGQKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGNvbnNvbGUud2FybihgVG9waWMgd2l0aCBJRCAke25ld0lkfSBub3QgZm91bmQgaW4gc3RvcmUgZm9yIGVkaXRpbmcuYCk7CiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvbm90LWZvdW5kIik7IC8vIFJlZGlyZWN0IGlmIHRvcGljIG5vdCBmb3VuZAogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIC8vIEFsc28gd2F0Y2ggdGhlICd0b3BpY3MnIHN0YXRlIGFzIGEgZmFsbGJhY2ssIGluIGNhc2UgdG9waWNzIGFycmF5IGxvYWRzIGFmdGVyIHRoZSBjb21wb25lbnQKICAgIHRvcGljczogewogICAgICBpbW1lZGlhdGU6IHRydWUsCiAgICAgIGhhbmRsZXIobmV3VG9waWNzKSB7CiAgICAgICAgaWYgKG5ld1RvcGljcy5sZW5ndGggPiAwICYmIHRoaXMuaWQgJiYgIXRoaXMudGl0bGUpIHsKICAgICAgICAgIC8vIE9ubHkgdHJ5IHRvIHNldCBpZiB0aXRsZSBpcyBub3QgYWxyZWFkeSBzZXQKICAgICAgICAgIGNvbnN0IHRvcGljVG9FZGl0ID0gbmV3VG9waWNzLmZpbmQodCA9PiB0LmlkID09IHRoaXMuaWQpOwogICAgICAgICAgaWYgKHRvcGljVG9FZGl0KSB7CiAgICAgICAgICAgIHRoaXMudGl0bGUgPSB0b3BpY1RvRWRpdC50aXRsZTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"names":["mapState","mapActions","name","props","id","Number","String","data","title","computed","methods","updateTopic","updatedTopic","updateTheTopic","then","$router","push","params","topicId","catch","error","console","cancel","back","watch","immediate","handler","newId","topics","length","topicToEdit","find","t","warn","newTopics"],"sources":["src/components/UpdateTopic.vue"],"sourcesContent":["<template>\r\n  <form v-on:submit.prevent=\"updateTopic\"> <div class=\"field\">\r\n      <label for=\"title\">Title</label>\r\n      <input type=\"text\" id=\"title\" v-model=\"title\" /> </div>\r\n    <div class=\"actions\">\r\n      <button type=\"submit\">Save Document</button>\r\n      <button type=\"button\" @click=\"cancel\">Cancel</button> </div>\r\n  </form>\r\n</template>\r\n\r\n<script>\r\n// REMOVE THIS IMPORT - No longer using external service\r\n// import topicService from \"@/services/TopicService.js\";\r\n\r\nimport { mapState, mapActions } from 'vuex'; // Import mapState and mapActions\r\n\r\nexport default {\r\n  // Your name here is 'create-topic', but it's handling updates.\r\n  // Consider renaming the component file and this property to 'edit-topic'\r\n  // or 'update-topic' for clarity if it's strictly for editing.\r\n  name: \"edit-topic\", // Renamed for clarity based on functionality\r\n  props: {\r\n    // router/index.js currently uses ':id' for EditTopic.\r\n    // Ensure this prop name matches the route param name.\r\n    id: [Number, String] // Changed from 'topicID' to 'id' to match router param\r\n  },\r\n  data() {\r\n    return {\r\n      title: \"\"\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState(['topics']) // We need access to the topics array to find the topic by ID\r\n  },\r\n  methods: {\r\n    ...mapActions(['updateTheTopic']), // Map the new updateTheTopic action\r\n\r\n    updateTopic() {\r\n      const updatedTopic = { id: this.id, title: this.title }; // Use this.id (from prop)\r\n\r\n      // Dispatch the Vuex action to update the topic in the store\r\n      this.updateTheTopic(updatedTopic)\r\n        .then(() => {\r\n          // After successful update in the store, redirect\r\n          this.$router.push({ name: 'Messages', params: { topicId: this.id } }); // Redirect to topic details\r\n          // Or redirect to Home: this.$router.push(\"/\");\r\n        })\r\n        .catch(error => {\r\n          console.error(\"Error updating topic:\", error);\r\n          // Handle error, e.g., show a user message\r\n        });\r\n    },\r\n    cancel() {\r\n      // Go back to the previous page or home\r\n      this.$router.back();\r\n    }\r\n  },\r\n  watch: {\r\n    // Watch the 'id' prop to load the topic when it changes or on initial creation\r\n    id: {\r\n      immediate: true, // This makes the watcher run immediately when the component is created\r\n      handler(newId) {\r\n        if (newId && this.topics.length > 0) { // Ensure topics are loaded before searching\r\n          const topicToEdit = this.topics.find(t => t.id == newId); // Find the topic by its ID\r\n\r\n          if (topicToEdit) {\r\n            this.title = topicToEdit.title; // Populate the form field\r\n          } else {\r\n            console.warn(`Topic with ID ${newId} not found in store for editing.`);\r\n            this.$router.push(\"/not-found\"); // Redirect if topic not found\r\n          }\r\n        }\r\n      }\r\n    },\r\n    // Also watch the 'topics' state as a fallback, in case topics array loads after the component\r\n    topics: {\r\n      immediate: true,\r\n      handler(newTopics) {\r\n        if (newTopics.length > 0 && this.id && !this.title) { // Only try to set if title is not already set\r\n          const topicToEdit = newTopics.find(t => t.id == this.id);\r\n          if (topicToEdit) {\r\n            this.title = topicToEdit.title;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n/* Add some basic styles for the form */\r\nform {\r\n  margin-top: 20px;\r\n  padding: 20px;\r\n  background: rgba(255, 255, 255, 0.2);\r\n  border-radius: 10px;\r\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.field {\r\n  margin-bottom: 15px;\r\n}\r\n\r\n.field label {\r\n  display: block;\r\n  margin-bottom: 5px;\r\n  font-weight: bold;\r\n  color: #333;\r\n}\r\n\r\n.field input[type=\"text\"] {\r\n  width: 100%;\r\n  padding: 10px;\r\n  border: 1px solid rgba(0, 0, 0, 0.2);\r\n  border-radius: 5px;\r\n  background: rgba(255, 255, 255, 0.8);\r\n  box-sizing: border-box; /* Ensures padding doesn't increase width */\r\n}\r\n\r\n.actions {\r\n  text-align: right;\r\n}\r\n\r\n.actions button {\r\n  padding: 10px 20px;\r\n  border: none;\r\n  border-radius: 5px;\r\n  cursor: pointer;\r\n  font-size: 16px;\r\n  margin-left: 10px;\r\n}\r\n\r\n.actions button[type=\"submit\"] {\r\n  background-color: #4CAF50; /* Green */\r\n  color: white;\r\n}\r\n\r\n.actions button[type=\"submit\"]:hover {\r\n  background-color: #45a049;\r\n}\r\n\r\n.actions button[type=\"button\"] { /* For the Cancel button */\r\n  background-color: #f44336; /* Red */\r\n  color: white;\r\n}\r\n\r\n.actions button[type=\"button\"]:hover {\r\n  background-color: #da190b;\r\n}\r\n</style>"],"mappings":";;;AAWA;AACA;;AAEA,SAAAA,QAAA,EAAAC,UAAA;;AAEA;EACA;EACA;EACA;EACAC,IAAA;EAAA;EACAC,KAAA;IACA;IACA;IACAC,EAAA,GAAAC,MAAA,EAAAC,MAAA;EACA;EACAC,KAAA;IACA;MACAC,KAAA;IACA;EACA;EACAC,QAAA;IACA,GAAAT,QAAA;EACA;EACAU,OAAA;IACA,GAAAT,UAAA;IAAA;;IAEAU,YAAA;MACA,MAAAC,YAAA;QAAAR,EAAA,OAAAA,EAAA;QAAAI,KAAA,OAAAA;MAAA;;MAEA;MACA,KAAAK,cAAA,CAAAD,YAAA,EACAE,IAAA;QACA;QACA,KAAAC,OAAA,CAAAC,IAAA;UAAAd,IAAA;UAAAe,MAAA;YAAAC,OAAA,OAAAd;UAAA;QAAA;QACA;MACA,GACAe,KAAA,CAAAC,KAAA;QACAC,OAAA,CAAAD,KAAA,0BAAAA,KAAA;QACA;MACA;IACA;IACAE,OAAA;MACA;MACA,KAAAP,OAAA,CAAAQ,IAAA;IACA;EACA;EACAC,KAAA;IACA;IACApB,EAAA;MACAqB,SAAA;MAAA;MACAC,QAAAC,KAAA;QACA,IAAAA,KAAA,SAAAC,MAAA,CAAAC,MAAA;UAAA;UACA,MAAAC,WAAA,QAAAF,MAAA,CAAAG,IAAA,CAAAC,CAAA,IAAAA,CAAA,CAAA5B,EAAA,IAAAuB,KAAA;;UAEA,IAAAG,WAAA;YACA,KAAAtB,KAAA,GAAAsB,WAAA,CAAAtB,KAAA;UACA;YACAa,OAAA,CAAAY,IAAA,kBAAAN,KAAA;YACA,KAAAZ,OAAA,CAAAC,IAAA;UACA;QACA;MACA;IACA;IACA;IACAY,MAAA;MACAH,SAAA;MACAC,QAAAQ,SAAA;QACA,IAAAA,SAAA,CAAAL,MAAA,aAAAzB,EAAA,UAAAI,KAAA;UAAA;UACA,MAAAsB,WAAA,GAAAI,SAAA,CAAAH,IAAA,CAAAC,CAAA,IAAAA,CAAA,CAAA5B,EAAA,SAAAA,EAAA;UACA,IAAA0B,WAAA;YACA,KAAAtB,KAAA,GAAAsB,WAAA,CAAAtB,KAAA;UACA;QACA;MACA;IACA;EACA;AACA","ignoreList":[]}]}